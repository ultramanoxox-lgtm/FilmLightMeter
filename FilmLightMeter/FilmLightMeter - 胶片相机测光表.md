# FilmLightMeter - 胶片相机测光表

FilmLightMeter 是一款专为胶片摄影爱好者设计的 iPhone 应用程序。它利用 iOS 设备先进的摄像头传感器，为没有内置测光功能的经典胶片相机提供精确的曝光参考。通过实时分析环境光线，该应用能够帮助摄影师在各种光影条件下捕捉完美的瞬间。

## 核心功能与设计

该应用提供了两种主要的测光模式，以适应不同的拍摄需求。在**光圈优先模式**下，用户可以根据创作意图设定光圈值，应用将自动计算出匹配的快门速度。而在**快门优先模式**下，用户则可以固定快门速度，由应用推算出合适的光圈。此外，应用还具备**测光锁定**功能，允许摄影师在锁定曝光参数后进行重新构图，确保测光的准确性。

| 功能模块 | 说明 |
| :--- | :--- |
| **实时 EV 显示** | 动态显示当前环境的曝光值 (EV100)，反映光线强度。 |
| **ISO 适配** | 支持从 ISO 25 到 3200 的多种胶片感光度设置。 |
| **偏移补偿** | 自动整合 iPhone 相机的曝光偏移量，提升测光精度。 |
| **专业交互** | 采用 SwiftUI 构建，提供流畅且直观的操作体验。 |

## 技术实现原理

应用的核心逻辑基于标准的摄影曝光公式。通过 `AVFoundation` 框架，我们能够获取 iPhone 摄像头的实时感光度、快门时间和光圈值。

> 曝光值计算公式：$EV_{100} = \log_2(N^2 / t) - \log_2(ISO / 100) + Offset$

其中，$N$ 代表光圈系数，$t$ 代表快门时间（秒），$ISO$ 代表感光度，$Offset$ 是设备提供的曝光目标偏移量。通过这一公式，应用能够将手机传感器的读数转化为适用于任何相机的通用曝光标准。

## 部署与运行指南

要在您的设备上运行此项目，请按照以下步骤操作：

首先，在 Mac 上启动 **Xcode** 并创建一个新的 **iOS App** 项目，确保选择 **SwiftUI** 作为界面框架。接着，将本项目 `Sources` 目录中的所有 Swift 文件导入到您的 Xcode 工程中。

**特别注意**：由于应用需要调用摄像头硬件，您必须在项目的 `Info.plist` 文件中配置 `NSCameraUsageDescription` 权限说明。为了获得最佳的测光精度，建议在 iPhone 真机上进行测试和使用，因为模拟器无法提供真实的摄像头数据流。

## 使用建议

虽然 FilmLightMeter 提供了高精度的测光参考，但在实际拍摄中，摄影师仍应考虑胶片的特定属性。例如，负片通常具有较强的过曝宽容度，而在拍摄反转片时则需要更加严谨的曝光控制。在极端光照条件下，建议结合“阳光十六法”等传统经验进行综合判断。
